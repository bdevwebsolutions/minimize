{"version":3,"sources":["functions/index.js","App.js","index.js"],"names":["createUrl","url","a","slug","newSlug","uniqueString","axios","post","response","data","Warning","warning","Container","styled","div","App","useState","showWarning","setShowWarning","showCopy","setShowCopy","warningText","setWarningText","handleUrlCreation","result","code","text","className","onSubmit","e","preventDefault","target","value","test","handleSubmit","name","type","onClick","select","document","execCommand","copyText","ReactDOM","render","StrictMode","getElementById"],"mappings":"oiBAGaA,EAAS,uCAAG,WAAOC,GAAP,+BAAAC,EAAA,6DAAYC,EAAZ,+BAAmB,GAG3BC,EAAN,KAATD,EAAyBE,MAA6BF,EAH/B,kBAMEG,IAAMC,KAAK,QAAS,CACzCN,IAAKA,EACLE,KAAMC,IARa,cAMfI,EANe,yBAUdA,EAASC,MAVK,wHAAH,sDC+DtB,IAAMC,EAAU,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjB,OAAO,2BAAIA,IAIPC,EAAYC,IAAOC,IAAV,oEAAGD,CAAH,qVAyCAE,EA1Gf,WAAgB,IAAD,EACyBC,oBAAS,GADlC,mBACNC,EADM,KACOC,EADP,OAEmBF,oBAAS,GAF5B,mBAENG,EAFM,KAEIC,EAFJ,OAGyBJ,mBAAS,IAHlC,mBAGNK,EAHM,KAGOC,EAHP,KAKPC,EAAiB,uCAAG,WAAOtB,EAAKE,GAAZ,eAAAD,EAAA,sEACHF,EAAUC,EAAKE,GADZ,OAEJ,KADdqB,EADkB,QAEbC,MACTP,GAAe,GACfE,GAAY,GACZE,EAAeE,EAAOE,QAEtBR,GAAe,GACfE,GAAY,GACZE,EAAeE,EAAOvB,MATA,2CAAH,wDAkCvB,OACE,kBAACW,EAAD,CAAWe,UAAU,OACnB,wCACA,6CACA,0BAAMC,SAAU,SAACC,GAAD,OAzBC,SAACA,GACpBA,EAAEC,iBACF,IACM7B,EAAM4B,EAAEE,OAAO9B,IAAI+B,MACnB7B,EAAO0B,EAAEE,OAAO5B,KAAK6B,MAFb,uLAIFC,KAAKhC,IACfiB,GAAe,GACfK,EAAkBtB,EAAKE,KAEvBe,GAAe,GACfI,EAAe,gBAcQY,CAAaL,KAClC,sCACA,2BAAOM,KAAK,MAAMC,KAAK,SACvB,6EACA,2BAAOD,KAAK,OAAOC,KAAK,SACxB,4BAAQA,KAAK,UAAb,aAEDnB,EAAc,kBAAC,EAAD,CAASN,QAASU,IAAkB,KAClDF,EACC,4BAAQiB,KAAK,SAASC,QAAS,SAACR,GAAD,OAnBpB,SAACA,GAChBA,EAAEC,iBACFT,EAAYiB,SACZC,SAASC,YAAY,QAgBqBC,CAASZ,KAA/C,qBAGE,OCxDVa,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFL,SAASM,eAAe,W","file":"static/js/main.a1698a7c.chunk.js","sourcesContent":["import axios from \"axios\";\nimport uniqueString from \"unique-string\";\n\nexport const createUrl = async (url, slug = \"\") => {\n  //Generate slug if not given\n  let newSlug;\n  slug === \"\" ? (newSlug = uniqueString()) : (newSlug = slug);\n\n  try {\n    const response = await axios.post(\"/urls\", {\n      url: url,\n      slug: newSlug,\n    });\n    return response.data;\n  } catch (err) {\n    return err;\n  }\n};\n","import React, { useState } from \"react\";\nimport styled from \"styled-components/macro\";\n\n//Functions\nimport { createUrl } from \"./functions\";\n\nfunction App() {\n  const [showWarning, setShowWarning] = useState(false);\n  const [showCopy, setShowCopy] = useState(false);\n  const [warningText, setWarningText] = useState(\"\");\n\n  const handleUrlCreation = async (url, slug) => {\n    const result = await createUrl(url, slug);\n    if (result.code === 1) {\n      setShowWarning(true);\n      setShowCopy(false);\n      setWarningText(result.text);\n    } else {\n      setShowWarning(true);\n      setShowCopy(true);\n      setWarningText(result.url);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let pattern = /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)/; //eslint-disable-line\n    const url = e.target.url.value;\n    const slug = e.target.slug.value;\n\n    if (pattern.test(url)) {\n      setShowWarning(false);\n      handleUrlCreation(url, slug);\n    } else {\n      setShowWarning(true);\n      setWarningText(\"Invalid URL\");\n    }\n  };\n\n  const copyText = (e) => {\n    e.preventDefault();\n    warningText.select();\n    document.execCommand(\"copy\");\n  };\n\n  return (\n    <Container className=\"App\">\n      <h1>MINIMIZE</h1>\n      <h2>Url Shortener</h2>\n      <form onSubmit={(e) => handleSubmit(e)}>\n        <label>Url</label>\n        <input name=\"url\" type=\"text\"></input>\n        <label>Slug (leave empty for auto generated slug)</label>\n        <input name=\"slug\" type=\"text\"></input>\n        <button type=\"submit\">GENERATE</button>\n      </form>\n      {showWarning ? <Warning warning={warningText} /> : null}\n      {showCopy ? (\n        <button type=\"button\" onClick={(e) => copyText(e)}>\n          Copy to clipboard\n        </button>\n      ) : null}\n    </Container>\n  );\n}\n\nconst Warning = ({ warning }) => {\n  return <p>{warning}</p>;\n};\n\n//Styling\nconst Container = styled.div`\n  min-width: 80%;\n  width: 300px;\n  height: auto;\n  margin: 30vh auto;\n  color: white;\n  text-align: center;\n\n  h1 {\n    text-align: center;\n  }\n\n  h2 {\n    text-align: center;\n  }\n\n  button {\n    margin: 15px auto 0px auto;\n    display: block;\n    width: auto;\n    padding: 10px 70px;\n    height: 40px;\n    border: none;\n  }\n\n  form {\n    padding: 5px;\n\n    label {\n      display: block;\n      text-align: center;\n      padding: 10px 0px;\n    }\n\n    input {\n      padding: 5px;\n      width: 200px;\n    }\n  }\n`;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}